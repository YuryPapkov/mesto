!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=n}var e,n,r;return e=t,(n=[{key:"enableValidation",value:function(){this._getInputList(),this._getSubmitButtonElement(),this._formElement.addEventListener("submit",(function(t){t.preventDefault()})),this._setEventListeners()}},{key:"clearErrors",value:function(){var t=this;this._inputList.forEach((function(e){t._hideInputError(e)})),this._toggleSubmitButtonState(this._submitButton)}},{key:"_getInputList",value:function(){var t=Array.from(this._formElement.querySelectorAll(this._inputSelector));return this._inputList=t,this._inputList}},{key:"_getSubmitButtonElement",value:function(){var t=this._formElement.querySelector(this._submitButtonSelector);return this._buttonElement=t,this._buttonElement}},{key:"_getErrorElement",value:function(t){return this._formElement.querySelector(".popup__error_type_".concat(t.name))}},{key:"_setEventListeners",value:function(){var t=this;this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleSubmitButtonState()})),e.addEventListener("focus",(function(){t._toggleSubmitButtonState()}))}))}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"_hideInputError",value:function(t){var e=this._getErrorElement(t);t.classList.remove(this._inputErrorClass),e.classList.remove(this._errorClass),e.textContent=""}},{key:"_showInputError",value:function(t,e){var n=this._getErrorElement(t);t.classList.add(this._inputErrorClass),n.classList.add(this._errorClass),n.textContent=e}},{key:"_toggleSubmitButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0)):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))}},{key:"_hasInvalidInput",value:function(){return!!this._inputList.some((function(t){return!t.validity.valid}))}}])&&o(e.prototype,n),r&&o(e,r),t}();function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var u=function(){function t(e,n,o,r,i,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e.name,this._link=e.link,this._likes=e.likes,this._owner=e.owner._id,this._myID=o,this._cardID=e._id,this._templateSelector=n,this._popupHandler=r,this._deleteHandler=i,this._likeHandler=u}var e,n,o;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.cloneNode(!0)}},{key:"_setEventListeners",value:function(t){var e=this;this._element.querySelector(".card__like-button").addEventListener("click",(function(t){e._likeHandler(e._cardID,t)})),t.addEventListener("click",(function(){return e._popupHandler(e._name,e._link)}))}},{key:"renderCard",value:function(){var t=this;this._element=this._getTemplate(),this._myID===this._owner?this._element.querySelector(".card__delete-button").addEventListener("click",(function(e){t._deleteHandler(t._cardID,e)})):this._element.querySelector(".card__delete-button").remove();var e=this._element.querySelector(".card__image");return e.src=this._link,e.alt=this._name,this._setEventListeners(e),this._element.querySelector(".card__title").textContent=this._name,this._element.querySelector(".card__like-counter").textContent=this._likes.length,this._likes.some((function(e){return e._id===t._myID}))&&this._element.querySelector(".card__like-button").classList.add("card__like-button_pressed"),this._element}}])&&i(e.prototype,n),o&&i(e,o),t}();function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=function(){function t(e,n){var o=e.items,r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderedItems=o,this._renderer=r,this._container=document.querySelector(n)}var e,n,o;return e=t,(n=[{key:"renderItems",value:function(){var t=this;this._renderedItems.forEach((function(e){t._renderer(e)}))}},{key:"insertItem",value:function(t){this._container.append(t)}}])&&a(e.prototype,n),o&&a(e,o),t}();function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._modal=document.querySelector(e),this._closeButton=this._modal.querySelector(".popup__close-button"),this.close=this.close.bind(this),this._handleEscClose=this._handleEscClose.bind(this)}var e,n,o;return e=t,(n=[{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._closeButton.addEventListener("click",this.close),this._modal.addEventListener("click",(function(e){e.target.classList.contains("popup_opened")&&t.close()}))}},{key:"open",value:function(){this._modal.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._modal.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}}])&&s(e.prototype,n),o&&s(e,o),t}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v(t);if(e){var r=v(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(i,t);var e,n,o,r=m(i);function i(){return p(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"open",value:function(t,e){h(v(i.prototype),"open",this).call(this);var n=this._modal.querySelector(".popup__image");n.setAttribute("src",""+e),n.alt="фото "+t,this._modal.querySelector(".popup__subtitle").textContent=t}}])&&_(e.prototype,n),o&&_(e,o),i}(l);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function g(t,e,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=j(t);if(e){var r=j(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return w(this,n)}}function w(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?C(t):e}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(i,t);var e,n,o,r=L(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=r.call(this,t))._submitButton=n._modal.querySelector(".popup__save-button"),n._form=n._modal.querySelector(".popup__container"),n._submitHandler=e,n._inputList=Array.from(n._modal.querySelectorAll(".popup__input")),n._submitHandlerWithData=n._submitHandlerWithData.bind(C(n)),n}return e=i,(n=[{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){t[e.name]=e.value})),t}},{key:"_submitHandlerWithData",value:function(){this._inputValues=this._getInputValues(),this._submitHandler(this._inputValues)}},{key:"setEventListeners",value:function(){g(j(i.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._submitHandlerWithData)}},{key:"close",value:function(){g(j(i.prototype),"close",this).call(this),this._form.validator.clearErrors(),this._form.reset()}}])&&E(e.prototype,n),o&&E(e,o),i}(l);function P(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var I=function(){function t(e){var n=e.nameSelector,o=e.occupationSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(n),this._occupation=document.querySelector(o)}var e,n,o;return e=t,(n=[{key:"getUserInfo",value:function(){var t={};return t.name=this._name.textContent,t.occupation=this._occupation.textContent,t}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.occupation;this._name.textContent=e,this._occupation.textContent=n}}])&&P(e.prototype,n),o&&P(e,o),t}();function q(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var R=function(){function t(e){var n=e.userURL,o=e.cardsURL,r=e.token;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userURL=n,this._cardsURL=o,this._token=r}var e,n,o;return e=t,(n=[{key:"userDownload",value:function(){return fetch(this._userURL,{method:"GET",headers:{authorization:this._token}}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка загрузки данных пользователя ".concat(t.status))}))}},{key:"cardsDownload",value:function(){return fetch(this._cardsURL,{method:"GET",headers:{authorization:this._token}}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка связи с сервером ".concat(t.status))}))}},{key:"profileDataUpload",value:function(t,e){return fetch(this._userURL,{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t,about:e})}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка загрузки данных пользователя на сервер ".concat(t.status))}))}},{key:"newCardUpload",value:function(t,e){return fetch(this._cardsURL,{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t,link:e})}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка загрузки карточки на сервер ".concat(t.status))}))}},{key:"deleteCard",value:function(t){var e=this._cardsURL+"/".concat(t);return fetch(e,{method:"DELETE",headers:{authorization:this._token}}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка удаления карточки")}))}},{key:"likeCard",value:function(t){var e=this._cardsURL+"/likes/".concat(t);return fetch(e,{method:"PUT",headers:{authorization:this._token}}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка связи с сервером")}))}},{key:"dislikeCard",value:function(t){var e=this._cardsURL+"/likes/".concat(t);return fetch(e,{method:"DELETE",headers:{authorization:this._token}}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка связи с сервером")}))}},{key:"avatarUpload",value:function(t){return fetch(this._userURL+"/avatar",{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:t.link})}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка загрузки аватара")}))}}])&&q(e.prototype,n),o&&q(e,o),t}(),T={formSelector:".popup__container_type_input",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},D=document.querySelector(".profile__edit-button"),x=document.querySelector(".profile__add-button"),U=document.querySelector(".popup_type_edit").querySelector(".popup__container"),B=document.querySelector(".profile__avatar"),H=document.querySelector(".popup__input_type_name"),A=document.querySelector(".popup__input_type_occupation"),z=document.querySelector(".popup__input_type_place"),V=document.querySelector(".popup__input_type_link"),M=0,N=document.querySelector(".popup__message"),W=new I({nameSelector:".profile__name",occupationSelector:".profile__occupation"}),J=new b(".popup_type_image"),G=new O(".popup_type_edit",(function(t){W.setUserInfo(t),G._submitButton.textContent="Сохранение...",X.profileDataUpload(t.name,t.occupation).then((function(t){console.log("загрузилось ок")})).catch((function(t){et(t),console.log(t)})),G._submitButton.textContent="Сохранить",this.close()})),F=new O(".popup_type_new-card",(function(t){F._submitButton.textContent="Сохранение...";var e=new u({name:t.place,link:t.link,owner:{_id:M},likes:[]},"#place",M,$,Y,Z).renderCard();tt.insertItem(e),X.newCardUpload(t.place,t.link).then((function(t){F._submitButton.textContent="Сохранить"})).catch((function(t){et(t),console.log(t)})),z.value="",V.value="",this.close()})),K=new O(".popup_type_confirm",(function(){X.deleteCard(K.cardToDeleteID).catch((function(t){et(t),console.log(t)})),K.cardToDeleteElement.remove(),this.close()})),Q=new O(".popup_type_avatar",(function(t){Q._submitButton.textContent="Сохранение...",console.log(t),X.avatarUpload(t).then((function(e){B.src=t.link,Q._submitButton.textContent="Сохранить"})).catch((function(t){et(t),console.log(t)})),this.close()})),X=new R({userURL:"https://mesto.nomoreparties.co/v1/cohort-15/users/me",cardsURL:"https://mesto.nomoreparties.co/v1/cohort-15/cards",token:"e6bf7ea4-0157-47ee-b8f8-bf17d3b13ba1"});function Y(t,e){K.cardToDeleteID=t,K.cardToDeleteElement=e.target.parentElement,K.open()}function Z(t,e){e.target.classList.contains("card__like-button_pressed")?X.dislikeCard(t).then((function(t){e.target.nextElementSibling.textContent=t.likes.length,e.target.classList.remove("card__like-button_pressed")})).catch((function(t){et(t),console.log(t)})):X.likeCard(t).then((function(t){e.target.nextElementSibling.textContent=t.likes.length,e.target.classList.add("card__like-button_pressed")})).catch((function(t){et(t),console.log(t)}))}function $(t,e){J.open(t,e)}J.setEventListeners(),G.setEventListeners(),F.setEventListeners(),K.setEventListeners(),Q.setEventListeners(),X.userDownload().then((function(t){W.setUserInfo({name:t.name,occupation:t.about}),B.src=t.avatar,M=t._id})).catch((function(t){et(t),console.log(t)}));var tt={};function et(t){N.textContent=t,N.parentElement.classList.add("popup_opened"),setTimeout((function(){N.textContent=""}),2e3),setTimeout((function(){N.parentElement.classList.remove("popup_opened")}),2200)}X.cardsDownload().then((function(t){(tt=new c({items:t,renderer:function(t){var e=new u(t,"#place",M,$,Y,Z).renderCard();tt.insertItem(e)}},".cards")).renderItems()})).catch((function(t){et(t),console.log(t)})),Array.from(document.querySelectorAll(T.formSelector)).forEach((function(t){var e=new r(T,t);e.enableValidation(),t.validator=e})),D.addEventListener("click",(function(){G.open();var t=W.getUserInfo();H.value=t.name,A.value=t.occupation,setTimeout((function(){U.querySelector(".popup__input").focus()}),100)})),x.addEventListener("click",(function(){F.open()})),B.addEventListener("click",(function(){Q.open()}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiRm9ybVZhbGlkYXRvciIsInZhbGlkYXRpb25EYXRhIiwiZm9ybUVsZW1lbnQiLCJ0aGlzIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbGVtZW50IiwiX2dldElucHV0TGlzdCIsIl9nZXRTdWJtaXRCdXR0b25FbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2lucHV0TGlzdCIsImZvckVhY2giLCJpdGVtIiwiX2hpZGVJbnB1dEVycm9yIiwiX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlIiwiX3N1Ym1pdEJ1dHRvbiIsImlucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXR0b25FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIl9idXR0b25FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVycm9yRWxlbWVudCIsIl9nZXRFcnJvckVsZW1lbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0ZXh0Q29udGVudCIsImVycm9yTWVzc2FnZSIsImFkZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzb21lIiwiQ2FyZCIsImRhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwibXlJRCIsInBvcHVwSGFuZGxlciIsImRlbGV0ZUhhbmRsZXIiLCJsaWtlSGFuZGxlciIsIl9uYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfb3duZXIiLCJvd25lciIsIl9pZCIsIl9teUlEIiwiX2NhcmRJRCIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX3BvcHVwSGFuZGxlciIsIl9kZWxldGVIYW5kbGVyIiwiX2xpa2VIYW5kbGVyIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZEltYWdlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJuZXdDYXJkSW1hZ2UiLCJzcmMiLCJhbHQiLCJsZW5ndGgiLCJlbGVtIiwiU2VjdGlvbiIsInNlY3Rpb25TZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwiYXBwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX21vZGFsIiwiX2Nsb3NlQnV0dG9uIiwiY2xvc2UiLCJfaGFuZGxlRXNjQ2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhJbWFnZSIsImltYWdlIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEhhbmRsZXIiLCJfZm9ybSIsIl9zdWJtaXRIYW5kbGVyIiwiX3N1Ym1pdEhhbmRsZXJXaXRoRGF0YSIsImlucHV0VmFsdWVzT2JqIiwiX2lucHV0VmFsdWVzIiwiX2dldElucHV0VmFsdWVzIiwidmFsaWRhdG9yIiwiY2xlYXJFcnJvcnMiLCJyZXNldCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwib2NjdXBhdGlvblNlbGVjdG9yIiwiX29jY3VwYXRpb24iLCJ1c2VyRGF0YSIsIm9jY3VwYXRpb24iLCJBcGkiLCJ1c2VyVVJMIiwiY2FyZHNVUkwiLCJ0b2tlbiIsIl91c2VyVVJMIiwiX2NhcmRzVVJMIiwiX3Rva2VuIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiYWJvdXQiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImlkIiwiY2FyZERlbGV0ZVVSTCIsImNhcmRMaWtlVVJMIiwidXJsIiwiYXZhdGFyIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJwb3B1cEVkaXRDb250YWluZXIiLCJ1c2VyQXZhdGFyIiwibmFtZUlucHV0Iiwib2NjdXBhdGlvbklucHV0IiwicGxhY2VJbnB1dCIsImxpbmtJbnB1dCIsInVzZXJJRCIsIm1lc3NhZ2UiLCJ1c2VyIiwiaW1hZ2VQb3B1cCIsImVkaXRNb2RhbCIsInNldFVzZXJJbmZvIiwiYXBpIiwicHJvZmlsZURhdGFVcGxvYWQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJzaG93RXJyb3JNZXNzYWdlIiwibmV3Q2FyZE1vZGFsIiwiY2FyZEVsZW1lbnQiLCJwbGFjZSIsImhhbmRsZVByZXZpZXdQaWN0dXJlIiwiZGVsZXRlQ2FyZEhhbmRsZXIiLCJyZW5kZXJDYXJkIiwiY2FyZHNHcmlkIiwiaW5zZXJ0SXRlbSIsIm5ld0NhcmRVcGxvYWQiLCJjb25maXJtTW9kYWwiLCJkZWxldGVDYXJkIiwiY2FyZFRvRGVsZXRlSUQiLCJjYXJkVG9EZWxldGVFbGVtZW50IiwiYXZhdGFyTW9kYWwiLCJhdmF0YXJVcGxvYWQiLCJwYXJlbnRFbGVtZW50Iiwib3BlbiIsImRpc2xpa2VDYXJkIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwibGlrZUNhcmQiLCJzZXRFdmVudExpc3RlbmVycyIsInVzZXJEb3dubG9hZCIsInRleHQiLCJzZXRUaW1lb3V0IiwiY2FyZHNEb3dubG9hZCIsInJlbmRlckl0ZW1zIiwiZW5hYmxlVmFsaWRhdGlvbiIsImdldFVzZXJJbmZvIiwiZm9jdXMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixF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d0YsVUFBWUEsS0FJckJzQyxFQUFXcEksaUJBQWlCLFNBcEY1QixXQUNJZ0osRUFBVXlCLE9BQ1YsSUFBTXBFLEVBQVd5QyxFQUFLc0MsY0FDdEI1QyxFQUFVeEssTUFBUXFJLEVBQVMvSSxLQUMzQm1MLEVBQWdCekssTUFBUXFJLEVBQVNDLFdBQ2pDMEUsWUFBVyxXQUNQMUMsRUFBbUJ2SCxjQUFjLGlCQUFpQnNLLFVBQ25ELFFBOEVQaEQsRUFBVXJJLGlCQUFpQixTQUFTLFdBQVF5SixFQUFhZ0IsVUFDekRsQyxFQUFXdkksaUJBQWlCLFNBQVMsV0FBUXNLLEVBQVlHIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uRGF0YSwgZm9ybUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHZhbGlkYXRpb25EYXRhLmlucHV0U2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gdmFsaWRhdGlvbkRhdGEuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSB2YWxpZGF0aW9uRGF0YS5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSB2YWxpZGF0aW9uRGF0YS5pbnB1dEVycm9yQ2xhc3M7XG4gICAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSB2YWxpZGF0aW9uRGF0YS5lcnJvckNsYXNzO1xuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIH1cblxuICAgIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgICAgIHRoaXMuX2dldElucHV0TGlzdCgpO1xuICAgICAgICB0aGlzLl9nZXRTdWJtaXRCdXR0b25FbGVtZW50KCk7XG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHsgZXZ0LnByZXZlbnREZWZhdWx0KCkgfSk7XG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgY2xlYXJFcnJvcnMoKSB7XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7IHRoaXMuX2hpZGVJbnB1dEVycm9yKGl0ZW0pOyB9KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uU3RhdGUodGhpcy5fc3VibWl0QnV0dG9uKTtcbiAgICB9XG5cbiAgICBfZ2V0SW5wdXRMaXN0KCkge1xuICAgICAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBpbnB1dExpc3Q7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Q7XG4gICAgfVxuICAgIF9nZXRTdWJtaXRCdXR0b25FbGVtZW50KCkge1xuICAgICAgICBjb25zdCBidXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSBidXR0b25FbGVtZW50O1xuICAgICAgICByZXR1cm4gdGhpcy5fYnV0dG9uRWxlbWVudDtcbiAgICB9XG5cbiAgICBfZ2V0RXJyb3JFbGVtZW50KGlucHV0RWxlbWVudCkge1xuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAucG9wdXBfX2Vycm9yX3R5cGVfJHtpbnB1dEVsZW1lbnQubmFtZX1gKTtcbiAgICAgICAgcmV0dXJuIGVycm9yRWxlbWVudDtcbiAgICB9XG5cbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpdGVtKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVTdWJtaXRCdXR0b25TdGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZ2V0RXJyb3JFbGVtZW50KGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICB9XG5cbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZ2V0RXJyb3JFbGVtZW50KGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgfVxuXG4gICAgX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgICAgICBpZiAodGhpcy5faW5wdXRMaXN0LnNvbWUoaXRlbSA9PiAhaXRlbS52YWxpZGl0eS52YWxpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCB0ZW1wbGF0ZVNlbGVjdG9yLCBteUlELCBwb3B1cEhhbmRsZXIsIGRlbGV0ZUhhbmRsZXIsIGxpa2VIYW5kbGVyKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgICAgICB0aGlzLl9vd25lciA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgICAgIHRoaXMuX215SUQgPSBteUlEO1xyXG4gICAgICAgIHRoaXMuX2NhcmRJRCA9IGRhdGEuX2lkO1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSGFuZGxlciA9IHBvcHVwSGFuZGxlcjtcclxuICAgICAgICB0aGlzLl9kZWxldGVIYW5kbGVyID0gZGVsZXRlSGFuZGxlcjtcclxuICAgICAgICB0aGlzLl9saWtlSGFuZGxlciA9IGxpa2VIYW5kbGVyO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXHJcbiAgICAgICAgICAgIC5jb250ZW50XHJcbiAgICAgICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycyhjYXJkSW1hZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xpa2VIYW5kbGVyKHRoaXMuX2NhcmRJRCwgZXZ0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX3BvcHVwSGFuZGxlcih0aGlzLl9uYW1lLCB0aGlzLl9saW5rKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vXHJcbiAgICByZW5kZXJDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9teUlEID09PSB0aGlzLl9vd25lcikge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19kZWxldGUtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWxldGVIYW5kbGVyKHRoaXMuX2NhcmRJRCwgZXZ0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fZGVsZXRlLWJ1dHRvbicpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAvLyDRg9C00LDQu9C40YLRjCDQuNC3INGA0LDQt9C80LXRgtC60Lgg0LLQtdC00YDQvlxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBuZXdDYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWFnZScpO1xyXG4gICAgICAgIG5ld0NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgICAgIG5ld0NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKG5ld0NhcmRJbWFnZSk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdGl0bGUnKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1jb3VudGVyJykudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX2xpa2VzKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9saWtlcy5zb21lKGVsZW0gPT4gZWxlbS5faWQgPT09IHRoaXMuX215SUQpKTtcclxuICAgICAgICBpZiAoKHRoaXMuX2xpa2VzLnNvbWUoZWxlbSA9PiBlbGVtLl9pZCA9PT0gdGhpcy5fbXlJRCkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtYnV0dG9uJykuY2xhc3NMaXN0LmFkZCgnY2FyZF9fbGlrZS1idXR0b25fcHJlc3NlZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgc2VjdGlvblNlbGVjdG9yKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gaXRlbXM7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWN0aW9uU2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIC8v0YTRg9C90LrRhtC40Y8gLSDQvtGC0YDQuNGB0L7QstGJ0LjQuiDRgdC10LrRhtC40LhcbiAgICByZW5kZXJJdGVtcygpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8v0YTRg9C90LrRhtC40Y8sINC60L7RgtC+0YDQsNGPINC00L7QsdCw0LLQu9GP0LXRgiBET00t0Y3Qu9C10LzQtdC90YIg0LIg0LrQvtC90YLQtdC50L3QtdGAXG4gICAgaW5zZXJ0SXRlbShlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XG4gICAgfVxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fbW9kYWwucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1idXR0b24nKTtcbiAgICAgICAgdGhpcy5jbG9zZSA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTtcbiAgICAgICAgdGhpcy5fbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW5lZCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgICB0aGlzLl9tb2RhbC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX21vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcblxuICAgIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuXG4gICAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgICAgIHN1cGVyLm9wZW4oKTtcbiAgICAgICAgY29uc3QgaW1hZ2UgPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XG4gICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgJycgKyBsaW5rKTtcbiAgICAgICAgaW1hZ2UuYWx0ID0gJ9GE0L7RgtC+ICcgKyBuYW1lO1xuICAgICAgICB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1YnRpdGxlJykudGV4dENvbnRlbnQgPSBuYW1lO1xuXG4gICAgfVxuXG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEhhbmRsZXIpIHtcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZS1idXR0b24nKTtcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyJyk7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBzdWJtaXRIYW5kbGVyO1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKSk7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXJXaXRoRGF0YSA9IHRoaXMuX3N1Ym1pdEhhbmRsZXJXaXRoRGF0YS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgaW5wdXRWYWx1ZXNPYmogPSB7fTtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICBpbnB1dFZhbHVlc09ialtpdGVtLm5hbWVdID0gaXRlbS52YWx1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGlucHV0VmFsdWVzT2JqO1xuICAgIH1cblxuICAgIF9zdWJtaXRIYW5kbGVyV2l0aERhdGEoKSB7XG4gICAgICAgIHRoaXMuX2lucHV0VmFsdWVzID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcbiAgICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcih0aGlzLl9pbnB1dFZhbHVlcyk7XG4gICAgfVxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3N1Ym1pdEhhbmRsZXJXaXRoRGF0YSk7XG5cblxuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5fZm9ybS52YWxpZGF0b3IuY2xlYXJFcnJvcnMoKTtcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuXG5cbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gICAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIG9jY3VwYXRpb25TZWxlY3RvciB9KSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX29jY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9jY3VwYXRpb25TZWxlY3Rvcik7XG5cblxuICAgIH1cbiAgICBnZXRVc2VySW5mbygpIHtcbiAgICAgICAgY29uc3QgdXNlckRhdGEgPSB7fTtcbiAgICAgICAgdXNlckRhdGEubmFtZSA9IHRoaXMuX25hbWUudGV4dENvbnRlbnQ7XG4gICAgICAgIHVzZXJEYXRhLm9jY3VwYXRpb24gPSB0aGlzLl9vY2N1cGF0aW9uLnRleHRDb250ZW50O1xuICAgICAgICByZXR1cm4gdXNlckRhdGE7XG4gICAgfVxuICAgIHNldFVzZXJJbmZvKHsgbmFtZSwgb2NjdXBhdGlvbiB9KSB7XG4gICAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgICAgICB0aGlzLl9vY2N1cGF0aW9uLnRleHRDb250ZW50ID0gb2NjdXBhdGlvbjtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gICAgY29uc3RydWN0b3IoeyB1c2VyVVJMLCBjYXJkc1VSTCwgdG9rZW4gfSkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJVUkwgPSB1c2VyVVJMO1xyXG4gICAgICAgIHRoaXMuX2NhcmRzVVJMID0gY2FyZHNVUkw7XHJcbiAgICAgICAgdGhpcy5fdG9rZW4gPSB0b2tlbjtcclxuICAgIH1cclxuICAgIHVzZXJEb3dubG9hZCgpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fdXNlclVSTCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwINC30LDQs9GA0YPQt9C60Lgg0LTQsNC90L3Ri9GFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIC8vIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAvLyAuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnZXJyb3IgZG93bmxvYWRpbmcgdXNlciBkYXRhJyk7XHJcbiAgICAgICAgLy8gfSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgY2FyZHNEb3dubG9hZCgpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fY2FyZHNVUkwsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAg0YHQstGP0LfQuCDRgSDRgdC10YDQstC10YDQvtC8ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByb2ZpbGVEYXRhVXBsb2FkKG5hbWUsIGFib3V0KSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3VzZXJVUkwsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGFib3V0OiBhYm91dFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC90LAg0YHQtdGA0LLQtdGAICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuICAgIG5ld0NhcmRVcGxvYWQobmFtZSwgbGluaykge1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9jYXJkc1VSTCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBsaW5rOiBsaW5rXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdC10YDQstC10YAgJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgZGVsZXRlQ2FyZChpZCkge1xyXG4gICAgICAgIGNvbnN0IGNhcmREZWxldGVVUkwgPSAodGhpcy5fY2FyZHNVUkwgKyBgLyR7aWR9YCk7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGNhcmREZWxldGVVUkwsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCfQntGI0LjQsdC60LAg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBsaWtlQ2FyZChpZCkge1xyXG4gICAgICAgIGNvbnN0IGNhcmRMaWtlVVJMID0gKHRoaXMuX2NhcmRzVVJMICsgYC9saWtlcy8ke2lkfWApO1xyXG4gICAgICAgIHJldHVybiBmZXRjaChjYXJkTGlrZVVSTCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ9Ce0YjQuNCx0LrQsCDRgdCy0Y/Qt9C4INGBINGB0LXRgNCy0LXRgNC+0LwnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcbiAgICBkaXNsaWtlQ2FyZChpZCkge1xyXG4gICAgICAgIGNvbnN0IGNhcmRMaWtlVVJMID0gKHRoaXMuX2NhcmRzVVJMICsgYC9saWtlcy8ke2lkfWApO1xyXG4gICAgICAgIHJldHVybiBmZXRjaChjYXJkTGlrZVVSTCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ9Ce0YjQuNCx0LrQsCDRgdCy0Y/Qt9C4INGBINGB0LXRgNCy0LXRgNC+0LwnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGF2YXRhclVwbG9hZCh1cmwpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goKHRoaXMuX3VzZXJVUkwgKyBgL2F2YXRhcmApLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVybC5saW5rLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCfQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDQsNCy0LDRgtCw0YDQsCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcclxuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XHJcblxyXG5cclxuY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fY29udGFpbmVyX3R5cGVfaW5wdXQnLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3NhdmUtYnV0dG9uJyxcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fc2F2ZS1idXR0b25fZGlzYWJsZWQnLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxyXG4gICAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJ1xyXG59O1xyXG5cclxuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xyXG5jb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5jb25zdCBwb3B1cEVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9lZGl0Jyk7XHJcbmNvbnN0IHBvcHVwRWRpdENvbnRhaW5lciA9IHBvcHVwRWRpdC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbnRhaW5lcicpO1xyXG5jb25zdCB1c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xyXG5cclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX25hbWUnKTtcclxuY29uc3Qgb2NjdXBhdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX29jY3VwYXRpb24nKTtcclxuY29uc3QgcGxhY2VJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9wbGFjZScpO1xyXG5jb25zdCBsaW5rSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfbGluaycpO1xyXG5sZXQgdXNlcklEID0gMDtcclxuY29uc3QgbWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fbWVzc2FnZScpO1xyXG5cclxuY29uc3QgYXBpQ29uZmlnID0ge1xyXG4gICAgdXNlclVSTDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMTUvdXNlcnMvbWUnLFxyXG4gICAgY2FyZHNVUkw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTE1L2NhcmRzJyxcclxuICAgIHRva2VuOiAnZTZiZjdlYTQtMDE1Ny00N2VlLWI4ZjgtYmYxN2QzYjEzYmExJ1xyXG59XHJcblxyXG4vL9GB0L7Qt9C00LDQtdC8INGN0LrQt9C10LzQv9C70Y/RgNGLINC60LvQsNGB0YHQvtCyXHJcbmNvbnN0IHVzZXIgPSBuZXcgVXNlckluZm8oeyBuYW1lU2VsZWN0b3I6ICcucHJvZmlsZV9fbmFtZScsIG9jY3VwYXRpb25TZWxlY3RvcjogJy5wcm9maWxlX19vY2N1cGF0aW9uJyB9KTtcclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX3R5cGVfaW1hZ2UnKTtcclxuY29uc3QgZWRpdE1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX2VkaXQnLCBmb3JtRWRpdFN1Ym1pdEhhbmRsZXIpO1xyXG5jb25zdCBuZXdDYXJkTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfbmV3LWNhcmQnLCBmb3JtTmV3Q2FyZFN1Ym1pdEhhbmRsZXIpO1xyXG5jb25zdCBjb25maXJtTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfY29uZmlybScsIGZvcm1Db25maXJtU3VibWl0SGFuZGxlcik7XHJcbmNvbnN0IGF2YXRhck1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX2F2YXRhcicsIGZvcm1BdmF0YXJTdWJtaXRIYW5kbGVyKTtcclxuY29uc3QgYXBpID0gbmV3IEFwaShhcGlDb25maWcpO1xyXG5cclxuLy/QvdCw0LLQtdGI0LjQstCw0LXQvCDRgdC70YPRiNCw0YLQtdC70LhcclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5lZGl0TW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxubmV3Q2FyZE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmNvbmZpcm1Nb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5hdmF0YXJNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy/QvtCx0YDQsNCx0L7RgtGH0LjQuiDQvtCx0L3QvtCy0LvQtdC90LjRjyDQsNCy0LDRgtCw0YDQsFxyXG5mdW5jdGlvbiBmb3JtQXZhdGFyU3VibWl0SGFuZGxlcihkYXRhKSB7XHJcbiAgICBhdmF0YXJNb2RhbC5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJztcclxuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgYXBpLmF2YXRhclVwbG9hZChkYXRhKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgdXNlckF2YXRhci5zcmMgPSBkYXRhLmxpbms7XHJcbiAgICAgICAgICAgIGF2YXRhck1vZGFsLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LjRgtGMJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICBzaG93RXJyb3JNZXNzYWdlKGVycik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSlcclxuICAgIHRoaXMuY2xvc2UoKTtcclxufVxyXG4vL9C+0LHRgNCw0LHQvtGC0YfQuNC6INGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuCAtINC+0YLQutGA0YvRgtGMINC/0L7Qv9Cw0L8g0L/QvtC00YLQstC10YDQttC00LXQvdC40Y9cclxuZnVuY3Rpb24gZGVsZXRlQ2FyZEhhbmRsZXIoaWQsIGV2dCkge1xyXG4gICAgY29uZmlybU1vZGFsLmNhcmRUb0RlbGV0ZUlEID0gaWQ7XHJcbiAgICBjb25maXJtTW9kYWwuY2FyZFRvRGVsZXRlRWxlbWVudCA9IGV2dC50YXJnZXQucGFyZW50RWxlbWVudDtcclxuICAgIGNvbmZpcm1Nb2RhbC5vcGVuKCk7XHJcbn1cclxuLy/QvtCx0YDQsNCx0L7RgtGH0LjQuiDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyAtINGD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG5mdW5jdGlvbiBmb3JtQ29uZmlybVN1Ym1pdEhhbmRsZXIoKSB7XHJcbiAgICBhcGkuZGVsZXRlQ2FyZChjb25maXJtTW9kYWwuY2FyZFRvRGVsZXRlSUQpXHJcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgIHNob3dFcnJvck1lc3NhZ2UoZXJyKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIGNvbmZpcm1Nb2RhbC5jYXJkVG9EZWxldGVFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5jbG9zZSgpO1xyXG5cclxufVxyXG5cclxuLy/QvtCx0YDQsNCx0L7RgtGH0LjQuiDQu9Cw0LnQutCwINC60LDRgNGC0L7Rh9C60LhcclxuZnVuY3Rpb24gbGlrZUhhbmRsZXIoaWQsIGV2dCkge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkX19saWtlLWJ1dHRvbl9wcmVzc2VkJykpIHtcclxuICAgICAgICBhcGkuZGlzbGlrZUNhcmQoaWQpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGV2dC50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLnRleHRDb250ZW50ID0gcmVzLmxpa2VzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnY2FyZF9fbGlrZS1idXR0b25fcHJlc3NlZCcpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZShlcnIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBpLmxpa2VDYXJkKGlkKVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBldnQudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2xpa2UtYnV0dG9uX3ByZXNzZWQnKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIHNob3dFcnJvck1lc3NhZ2UoZXJyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbi8v0LfQsNCz0YDRg9C30LrQsCDQv9GA0L7RhNC40LvRjyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0YEg0YHQtdGA0LLQtdGA0LBcclxuY29uc3QgdXNlckZyb21TZXJ2ZXIgPSBhcGkudXNlckRvd25sb2FkKCk7XHJcbnVzZXJGcm9tU2VydmVyXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIHVzZXIuc2V0VXNlckluZm8oeyBcIm5hbWVcIjogZGF0YS5uYW1lLCBcIm9jY3VwYXRpb25cIjogZGF0YS5hYm91dCB9KTtcclxuICAgICAgICB1c2VyQXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gICAgICAgIHVzZXJJRCA9IGRhdGEuX2lkO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgc2hvd0Vycm9yTWVzc2FnZShlcnIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG5cclxuXHJcblxyXG5cclxuLy/RhNGD0L3QutGG0LjQuCDQvtGC0LrRgNGL0YLQuNGPINC80L7QtNCw0LvRjNC90YvRhSDQvtC60L7QvVxyXG5mdW5jdGlvbiBoYW5kbGVQcmV2aWV3UGljdHVyZShuYW1lLCBsaW5rKSB7XHJcbiAgICBpbWFnZVBvcHVwLm9wZW4obmFtZSwgbGluayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5FZGl0TW9kYWwoKSB7XHJcbiAgICBlZGl0TW9kYWwub3BlbigpO1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSB1c2VyLmdldFVzZXJJbmZvKCk7XHJcbiAgICBuYW1lSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5uYW1lO1xyXG4gICAgb2NjdXBhdGlvbklucHV0LnZhbHVlID0gdXNlckRhdGEub2NjdXBhdGlvbjtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcG9wdXBFZGl0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXQnKS5mb2N1cygpO1xyXG4gICAgfSwgMTAwKTtcclxufVxyXG5cclxuLy/RhNGD0L3QutGG0LjQuCAtINC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0YHQsNCx0LzQuNGC0L7QslxyXG5mdW5jdGlvbiBmb3JtRWRpdFN1Ym1pdEhhbmRsZXIoZGF0YSkge1xyXG4gICAgdXNlci5zZXRVc2VySW5mbyhkYXRhKTtcclxuICAgIGVkaXRNb2RhbC5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJ1xyXG4gICAgYXBpLnByb2ZpbGVEYXRhVXBsb2FkKGRhdGEubmFtZSwgZGF0YS5vY2N1cGF0aW9uKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ9C30LDQs9GA0YPQt9C40LvQvtGB0Ywg0L7QuicpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZShlcnIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH0pXHJcbiAgICBlZGl0TW9kYWwuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnXHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1OZXdDYXJkU3VibWl0SGFuZGxlcihkYXRhKSB7XHJcbiAgICBuZXdDYXJkTW9kYWwuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLidcclxuICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh7XHJcbiAgICAgICAgICAgIG5hbWU6IGRhdGEucGxhY2UsXHJcbiAgICAgICAgICAgIGxpbms6IGRhdGEubGluayxcclxuICAgICAgICAgICAgb3duZXI6IHsgX2lkOiB1c2VySUQgfSxcclxuICAgICAgICAgICAgbGlrZXM6IFtdXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnI3BsYWNlJyxcclxuICAgICAgICB1c2VySUQsXHJcbiAgICAgICAgaGFuZGxlUHJldmlld1BpY3R1cmUsXHJcbiAgICAgICAgZGVsZXRlQ2FyZEhhbmRsZXIsXHJcbiAgICAgICAgbGlrZUhhbmRsZXIpO1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLnJlbmRlckNhcmQoKTtcclxuICAgIGNhcmRzR3JpZC5pbnNlcnRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgIGFwaS5uZXdDYXJkVXBsb2FkKGRhdGEucGxhY2UsIGRhdGEubGluaylcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIG5ld0NhcmRNb2RhbC5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC40YLRjCdcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIHNob3dFcnJvck1lc3NhZ2UoZXJyKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9KVxyXG4gICAgcGxhY2VJbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgbGlua0lucHV0LnZhbHVlID0gJyc7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbn1cclxuXHJcbi8v0YHQvtC30LTQsNC90LjQtSDQv9C10YDQstC+0L3QsNGH0LDQu9GM0L3QvtC5INGB0LXRgtC60Lgg0YEg0LrQsNGA0YLQvtGH0LrQsNC80LhcclxubGV0IGNhcmRzR3JpZCA9IHt9O1xyXG5jb25zdCBjYXJkc0Zyb21TZXJ2ZXIgPSBhcGkuY2FyZHNEb3dubG9hZCgpO1xyXG5jYXJkc0Zyb21TZXJ2ZXJcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY2FyZHNHcmlkID0gbmV3IFNlY3Rpb24oe1xyXG4gICAgICAgICAgICBpdGVtczogZGF0YSxcclxuICAgICAgICAgICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgJyNwbGFjZScsIHVzZXJJRCwgaGFuZGxlUHJldmlld1BpY3R1cmUsIGRlbGV0ZUNhcmRIYW5kbGVyLCBsaWtlSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQucmVuZGVyQ2FyZCgpO1xyXG4gICAgICAgICAgICAgICAgY2FyZHNHcmlkLmluc2VydEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgJy5jYXJkcycpO1xyXG4gICAgICAgIGNhcmRzR3JpZC5yZW5kZXJJdGVtcygpO1xyXG4gICAgfSlcclxuXHJcbi5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBzaG93RXJyb3JNZXNzYWdlKGVycik7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG59KVxyXG5cclxuLy/RgdC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNC+0LIg0LrQu9Cw0YHRgdCwIEZvcm1WYWxpZGF0b3Ig0L3QsCDQutCw0LbQtNC+0Lkg0YTQvtGA0LzQtSDQuCDQv9GA0LjQstGP0LfQutCwINC6INGE0L7RgNC80LVcclxuY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodmFsaWRhdGlvbkNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcclxuZm9ybUxpc3QuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgaXRlbSk7XHJcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gICAgaXRlbS52YWxpZGF0b3IgPSB2YWxpZGF0b3I7XHJcbn0pO1xyXG5cclxuLy/Rg9GB0YLQsNC90L7QstC60LAg0YHQu9GD0YjQsNGC0LXQu9C10Lkg0L3QsCDQutC90L7Qv9C60Lgg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRjyDQuCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRWRpdE1vZGFsKTtcclxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4geyBuZXdDYXJkTW9kYWwub3BlbigpIH0pO1xyXG51c2VyQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4geyBhdmF0YXJNb2RhbC5vcGVuKCkgfSk7XHJcblxyXG4vL9GE0YPQvdC60YbQuNGPINC/0L7QutCw0LfQsCDQvtGI0LjQsdC60Lgg0YHQstGP0LfQuCDRgSDRgdC10YDQstC10YDQvtC8XHJcbmZ1bmN0aW9uIHNob3dFcnJvck1lc3NhZ2UodGV4dCkge1xyXG4gICAgbWVzc2FnZS50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICBtZXNzYWdlLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBtZXNzYWdlLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICB9LCAyMDAwKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIG1lc3NhZ2UucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIH0sIDIyMDApO1xyXG5cclxufSJdLCJzb3VyY2VSb290IjoiIn0=